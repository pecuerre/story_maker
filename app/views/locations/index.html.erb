<p style="color: green"><%= notice %></p>
<% content_for :title, "Locations" %>

<div class="d-flex justify-content-between align-items-center mb-4">
  <%= header "Locations", icon: :list %>
  <%= link_to new_story_location_path(@story), class: "btn btn-primary" do %>
    <i class="bi bi-plus-circle"></i> New Location
  <% end %>
</div>

<table id="locations" class="table table-striped">
  <tr>
    <th>Name</th>
    <th>Parent</th>
    <th class="text-end">Actions</th>
  </tr>
  <% @locations.each do |location| %>
    <tr>
      <td><%= location.name %></td>
      <td><%= link_to(location.parent.name, story_location_path(@story, location.parent)) if location.parent %></td>
      <td class="text-end">
        <%= link_to "Show", story_location_path(@story, location),
          class: 'btn btn-sm btn-info' %>
        <%= link_to "Edit", edit_story_location_path(@story, location),
          class: 'btn btn-sm btn-secondary' %>
        <%= button_to "Destroy", story_location_path(@story, location),
          method: :delete,
          class: 'btn btn-sm btn-danger',
          data: { confirm: "Are you sure?" },
          form: { class: 'd-inline'} %>
      </td>
    </tr>
  <% end %>
</table>

