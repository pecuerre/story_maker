
<script>
document.addEventListener('DOMContentLoaded', function() {
  // If parent_id is set in URL params, select it in the dropdown
  const urlParams = new URLSearchParams(window.location.search);
  const parentId = urlParams.get('parent_id');
  if (parentId) {
    document.getElementById('taxon_parent_id').value = parentId;
  }
});
</script>

<% content_for :title, "New Taxon" %>

<div class="d-flex justify-content-between align-items-center mb-4">
  <div>
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><%= link_to @story.name, story_path(@story) %></li>
        <li class="breadcrumb-item"><%= link_to "Taxonomies", story_taxonomies_path(@story) %></li>
        <% if @taxonomy %>
          <li class="breadcrumb-item"><%= link_to @taxonomy.name, story_taxonomy_path(@story, @taxonomy) %></li>
        <% end %>
        <li class="breadcrumb-item active" aria-current="page">New Taxon</li>
      </ol>
    </nav>
    <h1>New Taxon</h1>
  </div>
</div>

<div class="row justify-content-center">
  <div class="col-md-8">
    <%= render "form" %>
  </div>
</div>
